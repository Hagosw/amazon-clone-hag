import{j as e,M as V,r as i,f as X,g as W,u as U,a as L,L as w,S as $,B as ee,b as se,c as te,I as re,d as ne,n as ae,R as oe,F as ce,e as Q,C as O,s as ie,h as le,i as de,k as _e,l as Y,m as ue,o as he,p as pe,q as me,t as xe,v as ge,w as S,E as je,x as ye}from"./vendor-BM564g7e.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function c(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=c(n);fetch(n.href,l)}})();const fe="data:image/png;base64,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",Ce="_header__outerContainer_riwqe_3",be="_header__container_riwqe_8",ve="_logo__container_riwqe_17",Ae="_delivery_riwqe_30",Se="_header__search_riwqe_50",we="_header__search_category_riwqe_63",Ie="_header__search_InputContainer_riwqe_79",Ee="_header__search_icon_riwqe_93",Ne="_header__search_suggestionsList_riwqe_104",ke="_order__container_riwqe_126",Le="_language_riwqe_147",Te="_cart_riwqe_163",Re="_lower__container_riwqe_179",y={header__outerContainer:Ce,header__container:be,logo__container:ve,delivery:Ae,header__search:Se,header__search_category:we,header__search_InputContainer:Ie,header__search_icon:Ee,header__search_suggestionsList:Ne,order__container:ke,language:Le,cart:Te,lower__container:Re};function ze(){return e.jsx("div",{className:y.lower__container,children:e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx(V,{})," ",e.jsx("p",{children:"All"})," "]}),e.jsx("li",{children:"Today's Deals"})," ",e.jsx("li",{children:"Customer Services"})," ",e.jsx("li",{children:"Registry"})," ",e.jsx("li",{children:"Gift Cards"})," ",e.jsx("li",{children:"Sell"})," "]})})}const v=i.createContext(),Pe=({children:s,reducer:r,initialState:c})=>e.jsxs(v.Provider,{value:i.useReducer(r,c),children:[s," "]}),Ue={apiKey:"AIzaSyDovTAZ4aTdm8xs0KPQnyPKD4QsLCC1MXY",authDomain:"Amazon-clone-Hag.firebaseapp.com",projectId:"Amazon-clone-Hag",storageBucket:"Amazon-clone-Hag.appspot.com",messagingSenderId:"541618558773",appId:"1:541618558773:web:bb870fc732ace2cc951e7c"},Be=X.initializeApp(Ue),z=W(Be),G=X.firestore(),P="https://fakestoreapi.com";function Fe(){var h;const[{basket:s,user:r}]=i.useContext(v),c=s==null?void 0:s.reduce((_,x)=>x.amount+_,0),[a,n]=i.useState([]),[l,o]=i.useState(""),[d,g]=i.useState(""),[p,f]=i.useState([]),u=U();i.useEffect(()=>{L.get(`${P}/products/categories`).then(_=>{n(_.data)}).catch(_=>{console.error("Error fetching categories:",_)})},[]);const b=_=>{const x=_.target.value;g(x),x.length>0?L.get(`${P}/products`).then(I=>{const J=I.data.filter(q=>q.title.toLowerCase().includes(x.toLowerCase()));f(J)}).catch(I=>{console.error("Error fetching products:",I)}):f([])},A=_=>{u(`/products/${_}`),g(""),f([])},m=()=>{u(`/results?category=${encodeURIComponent(l||"all")}&search=${encodeURIComponent(d)}`)};return e.jsxs("section",{className:y.header__outerContainer,children:[e.jsx("header",{children:e.jsxs("section",{className:y.header__container,children:[e.jsxs("div",{className:y.logo__container,children:[e.jsxs(w,{to:"/",children:[e.jsx("img",{src:fe,alt:"amazon logo"})," "]}),e.jsxs("div",{className:y.delivery,children:[e.jsxs("span",{children:[e.jsx($,{size:19})," "]}),e.jsxs("div",{children:[e.jsx("p",{children:"Deliver to"}),e.jsx("span",{children:"Ethiopia"})," "]})]})]}),e.jsxs("div",{className:y.header__search,children:[e.jsxs("select",{className:y.header__search_category,value:l,onChange:_=>o(_.target.value),children:[e.jsx("option",{value:"",children:"All"})," ",a.map((_,x)=>e.jsxs("option",{value:_,children:[_.charAt(0).toUpperCase()+_.slice(1)," "]},x))]}),e.jsxs("div",{className:y.header__search_InputContainer,children:[e.jsx("input",{type:"text",placeholder:"Search Amazon",value:d,onChange:b}),p.length>0&&e.jsx("ul",{className:y.header__search_suggestionsList,children:p.map(_=>e.jsxs("li",{onClick:()=>A(_.id),children:[_.title," "]},_.id))})]}),e.jsx(ee,{className:y.header__search_icon,size:40,onClick:m})]}),e.jsxs("div",{className:y.order__container,children:[e.jsxs("a",{href:"",className:y.language,children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Flag_of_the_United_States_%28DoS_ECA_Color_Standard%29.svg",alt:"USA Flag"}),e.jsxs("select",{children:[e.jsx("option",{children:"EN"})," "]})]}),e.jsx(w,{to:!r&&"/auth",children:e.jsx("div",{children:r?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Hello, ",(h=r==null?void 0:r.email)==null?void 0:h.split("@")[0]]})," ",e.jsx("span",{onClick:()=>z.signOut(),children:"Sign out"})," "]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"Hello, Sign In"})," ",e.jsx("span",{children:"Account & Lists"})]})})}),e.jsxs(w,{to:"/orders",children:[e.jsx("p",{children:"returns"}),e.jsx("span",{children:"& Orders"})," "]}),e.jsxs(w,{to:"/cart",className:y.cart,children:[e.jsx(se,{size:35})," ",e.jsx("span",{children:c})," "]})]})]})}),e.jsx(ze,{})," "]})}function T({children:s}){return e.jsxs("div",{children:[e.jsx(Fe,{}),s]})}const Oe="_hero__img_1f45s_1",Me="_carousel__prev_1f45s_18",Ke="_carousel__next_1f45s_32",B={hero__img:Oe,carousel__prev:Me,carousel__next:Ke},Ye="/assets/10001-BkgB9lbY.jpg",De="/assets/10002-C91Z6Pyf.jpg",He="/assets/10003-GbAwNKWU.jpg",Xe="/assets/10004-CYIsOYkK.jpg",Qe="/assets/10005-pgvjv8wn.jpg",Ge=[Ye,De,He,Xe,Qe];function Ze(){return e.jsxs(e.Fragment,{children:[e.jsx(te.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,showStatus:!1,renderArrowPrev:(s,r,c)=>r&&e.jsxs("button",{onClick:s,title:c,className:B.carousel__prev,children:[e.jsx(re,{size:60})," "]}),renderArrowNext:(s,r,c)=>r&&e.jsxs("button",{onClick:s,title:c,className:B.carousel__next,children:[e.jsx(ne,{size:60})," "]}),children:Ge.map((s,r)=>e.jsx("img",{src:s,alt:`carousel-${r}`},r))}),e.jsx("div",{className:B.hero__img})]})}const Je=[{title:"Electronics",name:"electronics",imgLink:"https://m.media-amazon.com/images/I/819CwRIckoL.__AC_SY445_SX342_QL70_FMwebp_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://m.media-amazon.com/images/I/61tIUi--ulL._AC_UL320_.jpg"},{title:"Men's clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/91yuQ3m+cvL._AC_UL320_.jpg"},{title:"Jewelry",name:"jewelry",imgLink:"https://m.media-amazon.com/images/I/51dG5JFO5gL._AC_UL320_.jpg"}],qe="_category_jnh7c_1",Ve="_category__container_jnh7c_37",Z={category:qe,category__container:Ve};function We({data:s}){return e.jsx("div",{className:Z.category,children:e.jsxs(w,{to:`/results?category=${encodeURIComponent(s==null?void 0:s.name)}`,children:[e.jsx("span",{children:e.jsx("h2",{children:s==null?void 0:s.title})}),e.jsx("img",{src:s==null?void 0:s.imgLink,alt:s==null?void 0:s.title}),e.jsx("p",{children:"Shop now"})]})})}function $e(){return e.jsx(e.Fragment,{children:e.jsx("section",{className:Z.category__container,children:Je.map((s,r)=>e.jsx(We,{data:s},r))})})}const M=({amount:s})=>{const r=ae(s).format("0,0.00$");return e.jsx("div",{children:r})},es="_productCard__container_1ji0g_1",ss="_productCard__button_1ji0g_16",ts="_productCard__rating_1ji0g_46",rs="_product__container_1ji0g_52",ns="_product_detail_1ji0g_65",as="_productCard__description_1ji0g_90",k={productCard__container:es,productCard__button:ss,productCard__rating:ts,product__container:rs,product_detail:ns,productCard__description:as},C={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function R({product:s,flex:r,add_description:c,renderAdd:a,sliceDesc:n,titleUp:l}){const{image:o,title:d,id:g,rating:p,price:f,description:u}=s,[b,A]=i.useContext(v),m=()=>{A({type:C.ADD_TO_BASKET,item:{image:o,title:d,id:g,rating:p,price:f,description:u}})};return e.jsxs("div",{className:`${k.productCard__container} ${r?k.product_detail:""}`,children:[e.jsx(w,{to:`/products/${g}`,children:e.jsx("img",{src:o,alt:d,className:k.productCard__img__container})}),e.jsxs("div",{children:[l&&e.jsx("h3",{children:d}),n&&e.jsx("h3",{children:`${d.slice(0,30)} ...`})," ",c&&e.jsx("div",{style:{maxWidth:"750px"},children:u}),n&&e.jsx("div",{style:{maxWidth:"350px"},children:`${u.slice(0,90)}...`}),e.jsxs("div",{className:k.productCard__rating,children:[e.jsx(oe,{value:p==null?void 0:p.rate,precision:.1})," ",e.jsx("small",{children:p==null?void 0:p.count})," "]}),e.jsxs("div",{children:[e.jsx(M,{amount:f})," "]}),a&&e.jsx("button",{className:k.productCard__button,onClick:m,children:"Add to cart"})]})]})}function K(){return e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:e.jsx(ce,{color:"#ff9900"})})}function os(){const[s,r]=i.useState([]),[c,a]=i.useState(!1);return i.useEffect(()=>{a(!0),L.get("https://fakestoreapi.com/products").then(n=>{r(n.data),a(!1)}).catch(n=>{console.log("error: "+n),a(!1)})},[r]),e.jsx(e.Fragment,{children:c?e.jsx(K,{}):e.jsx("section",{className:k.product__container,children:s==null?void 0:s.map(n=>e.jsx(R,{renderAdd:!0,product:n,sliceDesc:!0},n.id))})})}const cs="_Landing__container_19khz_1",is={Landing__container:cs};function ls(){return e.jsx(T,{children:e.jsxs("div",{className:is.Landing__container,children:[e.jsx(Ze,{}),e.jsx($e,{}),e.jsx(os,{})]})})}const ds="_auth_1kekk_1",_s="_auth__container_1kekk_14",us="_auth__signIn_btn_1kekk_54",hs="_auth__signUp_btn_1kekk_70",ps="_auth__error_1kekk_83",ms="_auth__msg_login_1kekk_87",N={auth:ds,auth__container:_s,auth__signIn_btn:us,auth__signUp_btn:hs,auth__error:ps,auth__msg_login:ms};function xs(){var A,m;const[s,r]=i.useState(""),[c,a]=i.useState(""),[n,l]=i.useState(""),[o,d]=i.useState({signIn:!1,signUp:!1}),[{user:g},p]=i.useContext(v),f=U(),u=Q();console.log(u);const b=h=>{h.preventDefault(),h.target.name==="signIn"?(d({...o,signIn:!0}),ie(z,s,c).then(_=>{var x;p({type:C.SET_USER,user:_.user}),d({...o,signIn:!1}),f(((x=u==null?void 0:u.state)==null?void 0:x.redirect)||"/")}).catch(_=>{l(_.message),d({...o,signIn:!1})})):(d({...o,signUp:!0}),le(z,s,c).then(_=>{var x;p({type:C.SET_USER,user:_.user}),d({...o,signUp:!1}),f(((x=u==null?void 0:u.state)==null?void 0:x.redirect)||"/")}).catch(_=>{l(_.message),d({...o,signUp:!1})}))};return e.jsxs("section",{className:N.auth,children:[e.jsx(w,{to:"/",children:e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/06/Amazon_2024.svg/1280px-Amazon_2024.svg.png",alt:"amazon logo"})}),e.jsxs("div",{className:N.auth__container,children:[e.jsx("h1",{children:"Sign In"}),((A=u==null?void 0:u.state)==null?void 0:A.msg)&&e.jsx("small",{className:N.auth__msg_login,children:(m=u==null?void 0:u.state)==null?void 0:m.msg}),e.jsxs("form",{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{value:s,onChange:h=>r(h.target.value),type:"email",id:"email"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{value:c,onChange:h=>a(h.target.value),type:"password",id:"password"})]}),e.jsxs("button",{type:"submit",onClick:b,name:"signIn",className:N.auth__signIn_btn,children:[o.signIn?e.jsx(O,{color:"#000",size:15}):"Sign In"," "]})]}),e.jsx("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, Cookies Notice, and our Interest-based Ads Notice."}),e.jsxs("button",{type:"submit",onClick:b,name:"signUp",className:N.auth__signUp_btn,children:[o.signUp?e.jsx(O,{color:"#000",size:15}):"Create your Amazon Account"," "]}),n&&e.jsx("small",{className:N.auth__error,children:n})]})]})}const gs="_payment__header_b33e3_1",js="_payment__method__wrapper_b33e3_7",ys="_payment__flex_b33e3_11",fs="_payment__deliveryItem_b33e3_21",Cs="_payment__card_methods_b33e3_29",bs="_payment__card_error_b33e3_34",vs="_payment__card_details_b33e3_38",As="_payment__price_b33e3_42",Ss="_payment__card_details_loader_b33e3_64",j={payment__header:gs,payment__method__wrapper:js,payment__flex:ys,payment__deliveryItem:fs,payment__card_methods:Cs,payment__card_error:bs,payment__card_details:vs,payment__price:As,payment__card_details_loader:Ss},ws=L.create({baseURL:"https://api-y43ecatycq-uc.a.run.app"});function Is(){const[{basket:s,user:r},c]=i.useContext(v),a=s==null?void 0:s.reduce((m,h)=>h.amount+m,0),n=s==null?void 0:s.reduce((m,h)=>h.price*h.amount+m,0),[l,o]=i.useState(null),[d,g]=i.useState(!1),p=de(),f=_e(),u=U(),b=m=>{var h;o(((h=m==null?void 0:m.error)==null?void 0:h.message)||"")},A=async m=>{var h;if(m.preventDefault(),s.length===0){o("Your basket is empty.");return}try{g(!0);const x=(h=(await ws({method:"POST",url:`/payment/create?total=${n*100}`})).data)==null?void 0:h.clientSecret,{paymentIntent:I}=await p.confirmCardPayment(x,{payment_method:{card:f.getElement(Y)}});await G.collection("users").doc(r.uid).collection("orders").doc(I.id).set({basket:s,amount:I.amount,created:I.created}),c({type:C.EMPTY_BASKET}),g(!1),u("/orders",{state:{msg:"You have placed a new order"}})}catch(_){o(_.message||"Payment failed. Please try again."),g(!1)}};return e.jsxs(T,{children:[e.jsxs("div",{className:j.payment__header,children:["Checkout (",a,") items"]}),e.jsxs("section",{className:j.payment__method__wrapper,children:[e.jsxs("div",{className:`${j.payment__deliveryInfo} ${j.payment__flex}`,children:[e.jsx("h3",{children:"Delivery Address"}),e.jsxs("div",{children:[e.jsx("div",{children:r==null?void 0:r.email})," ",e.jsx("div",{children:"123 React Lane"})," ",e.jsx("div",{children:"Ethiopia, IL"})," "]})]}),e.jsx("hr",{}),e.jsxs("div",{className:`${j.payment__deliveryItem} ${j.payment__flex}`,children:[e.jsx("h3",{children:"Review items and Delivery"}),e.jsx("div",{children:s==null?void 0:s.map((m,h)=>e.jsx(R,{product:m,flex:!0,titleUp:!0},h))})]}),e.jsx("hr",{}),e.jsxs("div",{className:`${j.payment__card} ${j.payment__flex}`,children:[e.jsx("h3",{children:"Payment methods"}),e.jsx("div",{className:j.payment__card_methods,children:e.jsx("div",{className:j.payment__card_details,children:e.jsxs("form",{onSubmit:A,children:[l&&e.jsx("small",{className:j.payment__card_error,children:l}),e.jsx(Y,{onChange:b}),e.jsxs("div",{className:j.payment__price,children:[e.jsx("div",{children:e.jsxs("span",{children:["Total Order | ",e.jsx(M,{amount:n})," "]})}),e.jsx("button",{type:"submit",disabled:d,children:d?e.jsxs("div",{className:j.payment__card_details_loader,children:[e.jsx(O,{color:"#000",size:12}),e.jsx("p",{children:"Please wait .... "})]}):"Pay Now"})]})]})})})]})]})]})}const Es="_orders_uibcv_1",Ns="_orders__container_uibcv_5",F={orders:Es,orders__container:Ns};function ks(){const[{user:s}]=i.useContext(v),[r,c]=i.useState([]);return i.useEffect(()=>{s?G.collection("users").doc(s.uid).collection("orders").orderBy("created","desc").onSnapshot(a=>{c(a.docs.map(n=>({id:n.id,data:n.data()})))}):c([])},[s]),e.jsx(T,{children:e.jsx("section",{className:F.orders,children:e.jsxs("div",{className:F.orders__container,children:[e.jsx("h2",{children:"Your Orders"}),(r==null?void 0:r.length)===0&&e.jsx("div",{className:F.orders__empty,children:e.jsx("p",{children:"You don't have orders yet."})}),e.jsx("div",{children:r==null?void 0:r.map((a,n)=>{var l,o;return e.jsxs("div",{children:[e.jsx("hr",{}),e.jsxs("p",{children:["Order ID: ",a==null?void 0:a.id]})," ",(o=(l=a==null?void 0:a.data)==null?void 0:l.basket)==null?void 0:o.map(d=>e.jsx(R,{product:d,flex:!0,titleUp:!0},d.id))]},n)})})]})})})}const Ls="_cart__container_15z78_1",Ts="_cart__subtotal_15z78_11",Rs="_cart__product_15z78_15",zs="_cart__btn__container_15z78_19",Ps="_cart__btn_15z78_19",Us="_cart__card_15z78_38",E={cart__container:Ls,cart__subtotal:Ts,cart__product:Rs,cart__btn__container:zs,cart__btn:Ps,cart__card:Us};function Bs(){const[{basket:s,user:r},c]=i.useContext(v),a=s.reduce((o,d)=>d.price*d.amount+o,0),n=o=>{c({type:C.ADD_TO_BASKET,item:o})},l=o=>{c({type:C.REMOVE_FROM_BASKET,id:o})};return e.jsx(T,{children:e.jsxs("section",{className:E.cart__container,children:[e.jsxs("div",{className:E.cart__card,children:[e.jsx("h2",{children:"Hello"}),e.jsx("h3",{children:"Your Shopping Basket"}),e.jsx("hr",{}),(s==null?void 0:s.length)===0?e.jsx("p",{children:"Oops! No items in your cart."}):s==null?void 0:s.map((o,d)=>e.jsxs("section",{className:E.cart__product,children:[e.jsx(R,{renderAdd:!1,product:o,add_description:!0,flex:!0,titleUp:!0},o.id),e.jsxs("div",{className:E.cart__btn__container,children:[e.jsxs("button",{className:E.cart__btn,onClick:()=>n(o),children:[e.jsx(ue,{size:20})," "]}),e.jsx("span",{children:o.amount})," ",e.jsxs("button",{className:E.cart__btn,onClick:()=>l(o.id),children:[e.jsx(he,{size:20})," "]})]})]},d))]}),(s==null?void 0:s.length)!==0&&e.jsxs("div",{className:E.cart__subtotal,children:[e.jsxs("div",{children:[e.jsxs("p",{children:["Subtotal (",s==null?void 0:s.length," items)"]}),e.jsx(M,{amount:a})," "]}),e.jsxs("span",{children:[e.jsx("input",{type:"checkbox"})," ",e.jsx("small",{children:"This order contains a gift"})]}),e.jsx(w,{to:"/payments",children:"Continue to checkout"})," "]})]})})}const Fs="_results__container_nfrz3_1",Os={results__container:Fs};function D(){const[s,r]=i.useState([]),[c,a]=i.useState(!1),n=Q(),l=new URLSearchParams(n.search),o=l.get("category")||"all",d=l.get("search")||"";return i.useEffect(()=>{a(!0),(async()=>{try{let p=`${P}/products`;o&&o!=="all"&&(p+=`/category/${encodeURIComponent(o)}`);let u=(await L.get(p)).data;d&&(u=u.filter(b=>b.title.toLowerCase().includes(d.toLowerCase()))),r(u)}catch(p){console.error("Error fetching products:",p)}finally{a(!1)}})()},[o,d]),e.jsx(T,{children:e.jsxs("section",{children:[e.jsx("h1",{style:{padding:"30px"},children:"Results"}),e.jsxs("p",{style:{padding:"30px"},children:[o!=="all"&&`Category: ${o}`," ",d&&` | Search: ${d}`," "]}),e.jsx("hr",{}),c?e.jsx(K,{}):e.jsx("div",{className:Os.results__container,children:s.length>0?s.map(g=>e.jsx(R,{product:g,renderAdd:!0,add_button:!0,titleUp:!0},g.id)):e.jsx("p",{children:"No products found."})})]})})}function Ms(){const[s,r]=i.useState({}),{productId:c}=pe(),[a,n]=i.useState(!1);return i.useEffect(()=>{n(!0),L.get(`${P}/products/${c}`).then(l=>{r(l.data),n(!1)}).catch(l=>{console.log(l),t,n(!1)})},[c]),e.jsx(T,{children:a?e.jsx(K,{}):e.jsx(R,{titleUp:!0,product:s,flex:!0,add_description:!0,add_button:!0,renderAdd:!0},s.id)})}function H({children:s,msg:r,redirect:c}){const a=U(),[{user:n}]=i.useContext(v);return i.useEffect(()=>{n||a("/auth",{state:{msg:r,redirect:c}})},[n,a,r,c]),s}const Ks=me("pk_test_51Q21RTKXqjMvF8GpDxoYiJrJakY0EfRCfYMvM8Cv5Fm3M1Uj7iPBTAYSDO8gFJZfNptmVcTLePW0Zo569vJv2vwC004KAlge8i");function Ys(){return e.jsx(xe,{children:e.jsxs(ge,{children:[e.jsx(S,{path:"/",element:e.jsx(ls,{})}),e.jsx(S,{path:"/auth",element:e.jsx(xs,{})}),e.jsx(S,{path:"/payments",element:e.jsx(H,{msg:"You must log in to pay",redirect:"/payments",children:e.jsx(je,{stripe:Ks,children:e.jsx(Is,{})})})}),e.jsx(S,{path:"/orders",element:e.jsx(H,{msg:"You must log in to see your orders",redirect:"/orders",children:e.jsx(ks,{})})}),e.jsx(S,{path:"/category/:categoryName",element:e.jsx(D,{})}),e.jsx(S,{path:"/results",element:e.jsx(D,{})}),e.jsx(S,{path:"/products/:productId",element:e.jsx(Ms,{})}),e.jsx(S,{path:"/cart",element:e.jsx(Bs,{})})]})})}function Ds(){const[s]=i.useContext(v);return i.useEffect(()=>{z.onAuthStateChanged(r=>{s(r?{type:C.SET_USER,user:r}:{type:C.SET_USER,user:null})})},[s]),e.jsx(Ys,{})}const Hs=JSON.parse(localStorage.getItem("basket"))||[],Xs={basket:Hs,user:null},Qs=(s,r)=>{switch(r.type){case C.ADD_TO_BASKET:if(s.basket.find(a=>a.id===r.item.id)){const a=s.basket.map(n=>n.id===r.item.id?{...n,amount:n.amount+1}:n);return localStorage.setItem("basket",JSON.stringify(a)),{...s,basket:a}}else{const a=[...s.basket,{...r.item,amount:1}];return localStorage.setItem("basket",JSON.stringify(a)),{...s,basket:a}}case C.REMOVE_FROM_BASKET:{const c=s.basket.findIndex(n=>n.id===r.id);let a=[...s.basket];return c>=0&&(a[c].amount>1?a[c]={...a[c],amount:a[c].amount-1}:a.splice(c,1)),localStorage.setItem("basket",JSON.stringify(a)),{...s,basket:a}}case C.SET_USER:return{...s,user:r.user};case C.EMPTY_BASKET:return localStorage.setItem("basket",JSON.stringify([])),{...s,basket:[]};default:return s}};ye(document.getElementById("root")).render(e.jsx(i.StrictMode,{children:e.jsx(Pe,{reducer:Qs,initialState:Xs,children:e.jsx(Ds,{})})}));
